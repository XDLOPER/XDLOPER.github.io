<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webpack Example</title>
    <link rel="stylesheet" type="text/css" href="src/css/style.css" >
    <link rel="stylesheet" type="text/css" href="src/css/reset.css" >
    <link rel="stylesheet" href="src/css/media.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
</head>
<body id="body">
    <div id="main_section">
        <div id="star"></div>
        <h1 class="h1">HELLO WORLD!</h1>
        <button id="button">flying the code space</button>
    </div>
    <div id="github">
        <h1 id="one">- WE ALWAYS MOST <b style="color:rgb(117, 209, 41)">BEST</b> -</h1>
        <hr />
        <hr style="border:2px solid rgb(20, 20, 20);"/>
        <p>XASTRAL her şeyi kolaylaştırmak ve otomatikleştirmek için kuruldu. İletmek istediğiniz herhangi bir olayı yandaki widget ile anında iletmek artık hiç zor değil.</p>
        <h1 id="two">powered by <b style="color:#7a34bd;">< XASTRAL ></b></h1>
        <div id="form">

            <form action="https://api.emailjs.com/api/v1.0/email/send-form" id="sendForm">
                <input required name="from_email" type="text" placeholder="you write email">
                <textarea required name="message" id="textarea" cols="30" rows="10" placeholder="What would you like"></textarea>
                <input type="submit" value="send !"></input>
            </form>
        </div>
    </div>
    <script type="text/javascript">

        $('#sendForm').on('submit', function(event) {
            event.preventDefault(); // prevent reload

            var from_email = $('input[name="from_email"]').val();
            var message = $('textarea[name="message"]').val();
            if(from_email !== "" || message !== ""){
                var data = {
                    service_id: 'service_yxopre5',
                    template_id: 'template_h5wwgji',
                    user_id: '6D-UiJy1EbPMEZ7_k',
                    template_params: {
                        'from_email': from_email,
                        'message':message,
                    }
                };
                

                $.ajax('https://api.emailjs.com/api/v1.0/email/send', {
                    type: 'POST',
                    data: JSON.stringify(data),
                    contentType: 'application/json'
                }).done(function() {
                    alert('Your mail is sent!');
                }).fail(function(error) {
                    alert('Oops... ' + JSON.stringify(error));
                });                
            }
        });
    </script>
    <script type="module" src="src/js/index.js"></script>
</body>
</html>